<!DOCTYPE html>
<html lang="vi" spellcheck="false">
    <head>
        <!-- 
            TODO: Implement Authentication APIs later
            API Xác thực (Authentication):
            /api/auth/login - Đăng nhập
            /api/auth/logout - Đăng xuất
            /api/auth/check-session - Kiểm tra phiên đăng nhập
        -->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <meta name="theme-color" content="#ffffff" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <!-- Content Security Policy -->
        <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' data: blob:; style-src * 'unsafe-inline' https://cdn.jsdelivr.net; script-src * 'unsafe-inline' 'unsafe-eval' https://code.jquery.com; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; font-src * data: 'unsafe-inline';" />

        <title>Admin Dashboard - Quản trị hệ thống</title>
        
        <link rel="stylesheet" href="css/libs/bootstrap.min.css">
        <link rel="stylesheet" href="css/libs/bootstrap-icons.min.css">
        <link rel="stylesheet" href="css/libs/font-awesome.min.css">
        <link rel="stylesheet" href="css/libs/roboto.css">
        <link rel="stylesheet" href="dashboard_admin.css">
       
        <script src="js/libs/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="js/libs/jquery-3.7.1.min.js"></script>
        
        <!-- Configuration -->
        <script src="js/config.js"></script>
        <script type="module">
            import { AIAnalysis } from './js/modules/ai-analysis.js';
            
            document.addEventListener('DOMContentLoaded', function() {
                // Khởi tạo và tải dữ liệu
                AIAnalysis.init();
                
                // Thêm event listener cho nút cập nhật
                const updateBtn = document.getElementById('updateAnalysis');
                if (updateBtn) {
                    updateBtn.addEventListener('click', () => {
                        AIAnalysis.loadAnalysis();
                    });
                }
            });
        </script>

        <!-- Main Dashboard Scripts -->
        <script type="module">
            import { WidgetManager } from './js/modules/widget-manager.js';
            import { CommonUtils, AuthUtils, PermissionUtils, NotificationUtils, UIUtils } from './js/modules/utils.js';
            import { APIUtils } from './js/modules/api.js';
            import { Dashboard } from './js/modules/dashboard.js';
            import { APITest } from './js/modules/test.js';
            import { ChartManager } from './js/modules/chart-manager.js';
            import { WidgetManager } from './js/modules/widget-manager.js';
            import { ThemeManager } from './js/modules/theme-manager.js';
            import { ErrorHandler } from './js/modules/error-handler.js';
            import { API } from './js/modules/api.js';
            import { GlobalSearch } from './js/modules/global-search.js';
            import { MenuSearch } from './js/modules/menu-search.js';
            import { RecentMenu } from './js/modules/recent-menu.js';
            import { UserProfile } from './js/modules/user-profile.js';
            import { ExportData } from './js/modules/export-data.js';
            import { AIAnalysis } from './js/modules/ai-analysis.js';
            import { Gamification } from './js/modules/gamification.js';
            import { MobileStats } from './js/modules/mobile-stats.js';
            import { ActivityFilter } from './js/modules/activity-filter.js';
            import { NotificationHandler } from './js/modules/notification-handler.js';
            import { LoadingOverlay } from './js/modules/loading-overlay.js';
            import { DarkMode } from './js/modules/dark-mode.js';
                    

            // Khởi tạo các module
            
            const widgetManager = new WidgetManager();
            await widgetManager.initialize();
            const dashboard = new Dashboard();
            const globalSearch = new GlobalSearch();
            const menuSearch = new MenuSearch();
            const recentMenu = new RecentMenu();
            const userProfile = new UserProfile();
            const exportData = new ExportData();
            const aiAnalysis = new AIAnalysis();
            // const gamification = new Gamification();
            const mobileStats = new MobileStats();
            const activityFilter = new ActivityFilter();
            const notificationHandler = new NotificationHandler();
            const loadingOverlay = new LoadingOverlay();
            const darkMode = new DarkMode();

            // Khởi tạo theo dõi phiên đăng nhập
            AuthUtils.initSessionMonitoring();

            // Chạy kiểm tra hệ thống
            APITest.runAllTests();

            // Xử lý sự kiện khi trang được tải
            document.addEventListener('DOMContentLoaded', async () => {
                // Kiểm tra xác thực
                if (!AuthUtils.isAuthenticated()) {
                    window.location.href = '/login_new.html';
                    return;
                }

                // Khởi tạo các module
                await initializeModules();
                
                // Thêm các event listeners
                addEventListeners();
            });

            // Khởi tạo các module
            async function initializeModules() {
                try {
                    loadingOverlay.show();
                    
                    // Khởi tạo dashboard
                    await dashboard.loadData();
                    
                    // Khởi tạo tìm kiếm
                    globalSearch.initialize();
                    menuSearch.initialize();
                    
                    // Khởi tạo menu gần đây
                    recentMenu.initialize();
                    
                    // Khởi tạo thông tin người dùng
                    await userProfile.loadProfile();
                    
                    // Khởi tạo phân tích AI
                    await aiAnalysis.initialize();
                    
                    // Khởi tạo gamification
                    // await gamification.initialize();
                    
                    // Khởi tạo thống kê mobile
                    await mobileStats.initialize();
                    
                    // Khởi tạo bộ lọc hoạt động
                    activityFilter.initialize();
                    
                    // Khởi tạo thông báo
                    await notificationHandler.initialize();
                    
                    // Khởi tạo chế độ tối
                    darkMode.initialize();
                    
                    loadingOverlay.hide();
                } catch (error) {
                    console.error('Lỗi khởi tạo:', error);
                    loadingOverlay.hide();
                }
            }

            // Thêm các event listeners
            function addEventListeners() {
                // Xử lý tìm kiếm toàn cục
                document.getElementById('globalSearch').addEventListener('input', (e) => {
                    globalSearch.search(e.target.value);
                });

                // Xử lý tìm kiếm menu
                document.querySelector('.menu-search input').addEventListener('input', (e) => {
                    menuSearch.search(e.target.value);
                });

                // Xử lý chuyển đổi chế độ tối
                document.getElementById('themeToggle').addEventListener('click', () => {
                    darkMode.toggle();
                });

                // Xử lý làm mới hoạt động
                document.getElementById('refreshActivities').addEventListener('click', async () => {
                    await activityFilter.refresh();
                });

                // Xử lý làm mới thông báo
                document.getElementById('refreshNotifications').addEventListener('click', async () => {
                    await notificationHandler.refresh();
                });

                // Xử lý xuất dữ liệu
                document.querySelectorAll('.export-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        exportData.export(btn.dataset.type);
                    });
                });

                // Xử lý cập nhật phân tích AI
                document.getElementById('updateAnalysis').addEventListener('click', async () => {
                    await aiAnalysis.update();
                });

                // Xử lý cập nhật gamification
                // document.getElementById('updateGamification').addEventListener('click', async () => {
                //     await gamification.update();
                // });

                // Xử lý cập nhật thống kê mobile
                document.getElementById('updateMobileStats').addEventListener('click', async () => {
                    await mobileStats.update();
                });

                // Xử lý đăng xuất
                document.getElementById('logoutBtn').addEventListener('click', () => {
                    AuthUtils.logout();
                });

                // Xử lý các nút quick action
                document.querySelectorAll('.quick-action-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        const action = btn.dataset.action;
                        handleQuickAction(action);
                    });
                });

                // Xử lý các selector
                document.querySelectorAll('select').forEach(select => {
                    select.addEventListener('change', (e) => {
                        const type = select.id;
                        handleSelectorChange(type, e.target.value);
                    });
                });
            }

            // Xử lý quick action
            function handleQuickAction(action) {
                switch (action) {
                    case 'add-employee':
                        window.location.href = 'employees/add.html';
                        break;
                    case 'check-attendance':
                        window.location.href = 'attendance/check.html';
                        break;
                    case 'register-leave':
                        window.location.href = 'leave/register.html';
                        break;
                    case 'calculate-salary':
                        window.location.href = 'salary/calculate.html';
                        break;
                }
            }

            // Xử lý thay đổi selector
            function handleSelectorChange(type, value) {
                switch (type) {
                    case 'performanceTimeRange':
                        dashboard.updatePerformanceChart(value);
                        break;
                    case 'attendancePeriod':
                        dashboard.updateAttendanceChart(value);
                        break;
                    case 'activityType':
                        activityFilter.filterByType(value);
                        break;
                }
            }

            // Xử lý sự kiện khi trang bị đóng
            window.addEventListener('beforeunload', () => {
                dashboard.cleanup();
                globalSearch.cleanup();
                menuSearch.cleanup();
                recentMenu.cleanup();
                userProfile.cleanup();
                aiAnalysis.cleanup();
                // gamification.cleanup();
                mobileStats.cleanup();
                activityFilter.cleanup();
                notificationHandler.cleanup();
                loadingOverlay.cleanup();
                darkMode.cleanup();
            });
        </script>
    </head>
    <body>
        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="loading-overlay">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>

        <!-- Notification Container -->
        <div id="notificationContainer" class="notification-container"></div>

        <!-- Rest of your HTML content -->
        <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <div class="dashboard-container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <img src="images/avatar.php" alt="User Avatar" class="rounded-circle" width="40" height="40">
                    <h2 style="color: #3498db;">VNPT</h2>
                </div>

                <!-- Menu Search -->
                <div class="menu-search">
                    <input type="text" placeholder="Tìm kiếm menu..." />
                </div>

                <nav>
                    <ul class="nav-menu">
                        <li class="nav-item" data-menu-id="dashboard">
                            <a href="dashboard.html" class="nav-link active">
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item has-submenu" data-menu-id="employees">
                            <a href="#" class="nav-link">
                                <span>Nhân viên</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="employees/list.html" class="nav-link">
                                        <span>Danh sách nhân viên</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="employees/add.html" class="nav-link">
                                        <span>Thêm nhân viên</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="employees/contracts.html" class="nav-link">
                                        <span>Hợp đồng</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="employees/attendance.html" class="nav-link">
                                        <span>Chấm công</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Lương</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="salary/list.html" class="nav-link">
                                        <span>Danh sách lương</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="salary/adjust.html" class="nav-link">
                                        <span>Điều chỉnh lương</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="salary/payslip.html" class="nav-link">
                                        <span>Phiếu lương</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="salary/history.html" class="nav-link">
                                        <span>Lịch sử điều chỉnh</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Nghỉ phép</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="leave/register.html" class="nav-link">
                                        <span>Đăng ký nghỉ phép</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="leave/list.html" class="nav-link">
                                        <span>Danh sách nghỉ phép</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Hiệu suất</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="performance/report.html" class="nav-link">
                                        <span>Báo cáo hiệu suất</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="performance/evaluation.html" class="nav-link">
                                        <span>Đánh giá nhân viên</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Phòng ban</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="departments/list.html" class="nav-link">
                                        <span>Danh sách phòng ban</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="positions/list.html" class="nav-link">
                                        <span>Vị trí công việc</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Tài liệu</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="documents/list.html" class="nav-link">
                                        <span>Danh sách tài liệu</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="documents/upload.html" class="nav-link">
                                        <span>Upload tài liệu</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="documents/manage.html" class="nav-link">
                                        <span>Quản lý tài liệu</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="documents/view_document.html" class="nav-link">
                                        <span>Xem tài liệu</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Thiết bị</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="equipment/list.html" class="nav-link">
                                        <span>Danh sách thiết bị</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="equipment/assign.html" class="nav-link">
                                        <span>Cấp phát thiết bị</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Báo cáo</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="reports/employee.html" class="nav-link">
                                        <span>Đánh giá hiệu suất</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Tuyển dụng</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="recruitment/positions.html" class="nav-link">
                                        <span>Vị trí tuyển dụng</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="recruitment/candidates.html" class="nav-link">
                                        <span>Quản lý ứng viên</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="recruitment/interviews.html" class="nav-link">
                                        <span>Lịch phỏng vấn</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="recruitment/onboarding.html" class="nav-link">
                                        <span>Onboarding</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Phúc lợi</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="benefits/insurance.html" class="nav-link">
                                        <span>Bảo hiểm</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="benefits/policies.html" class="nav-link">
                                        <span>Chính sách phúc lợi</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Dự án</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="projects/list.html" class="nav-link">
                                        <span>Danh sách dự án</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="projects/tasks.html" class="nav-link">
                                        <span>Quản lý công việc</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Cài đặt</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="settings/security.html" class="nav-link">
                                        <span>Bảo mật</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="settings/integrations.html" class="nav-link">
                                        <span>Tích hợp</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="settings/backup.html" class="nav-link">
                                        <span>Sao lưu</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-submenu">
                            <a href="#" class="nav-link">
                                <span>Đào tạo</span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu">
                                <li>
                                    <a href="training/courses.html" class="nav-link">
                                        <span>Quản lý khóa đào tạo</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="training/register.html" class="nav-link">
                                        <span>Đăng ký đào tạo</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="training/list.html" class="nav-link">
                                        <span>Danh sách đăng ký</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="training/evaluation.html" class="nav-link">
                                        <span>Đánh giá kết quả</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="training/reports.html" class="nav-link">
                                        <span>Báo cáo đào tạo</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" id="logoutBtn">
                                <span>Đăng xuất</span>
                            </a>
                        </li>
                    </ul>
                </nav>

                <!-- Recent Menu -->
                <div class="recent-menu">
                    <h3>Menu gần đây</h3>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Improved Header -->
                <header class="header">
                    <div class="header-left">
                        <h1 style="color: #F8D800;">Admin Dashboard</h1>
                    </div>
                    <div class="header-right">
                        <div class="header-controls">
                            <div class="search-container" id="searchContainer">
                                <input type="text" id="globalSearch" class="form-control" placeholder="Search..." />
                                <div id="searchResults" class="search-results"></div>
                            </div>
                            <button id="searchToggle" class="btn btn-link">
                                <i class="fas fa-search"></i>
                            </button>
                            <div class="theme-toggle-wrapper">
                                <div class="theme-toggle" id="themeToggle" role="button" tabindex="0">
                                    <div class="sun">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="12" cy="12" r="5"/>
                                            <line x1="12" y1="1" x2="12" y2="3"/>
                                            <line x1="12" y1="21" x2="12" y2="23"/>
                                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                                            <line x1="1" y1="12" x2="3" y2="12"/>
                                            <line x1="21" y1="12" x2="23" y2="12"/>
                                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                                        </svg>
                                    </div>
                                    <div class="moon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                            <div class="dropdown">
                                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                    <i class="fas fa-user-circle"></i> Admin
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#">Profile</a></li>
                                    <li><a class="dropdown-item" href="#">Settings</a></li>
                                    <li><a class="dropdown-item" href="#" id="logoutBtn">Logout</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Statistics Cards -->
                <div class="row statistics-cards">
                    <div class="col-md-3">
                        <div class="stat-card" data-widget="total-employees">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <h3 class="stat-value" id="totalEmployees">0</h3>
                                <p class="stat-label">Tổng nhân viên</p>
                            </div>
                            <div class="stat-trend">
                                <span class="trend-value" id="kpiCompletion">0%</span>
                                <i class="fas fa-arrow-up trend-up"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stat-card" data-widget="active-employees">
                            <div class="stat-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="stat-info">
                                <h3 class="stat-value" id="activeEmployees">0</h3>
                                <p class="stat-label">Nhân viên đang làm việc</p>
                            </div>
                            <div class="stat-trend">
                                <span class="trend-value" id="attendanceRate">0%</span>
                                <i class="fas fa-arrow-up trend-up"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stat-card" data-widget="pending-leaves">
                            <div class="stat-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="stat-info">
                                <h3 class="stat-value" id="pendingLeaves">0</h3>
                                <p class="stat-label">Đơn nghỉ phép chờ duyệt</p>
                            </div>
                            <div class="stat-trend">
                                <span class="trend-value" id="newCandidates">0</span>
                                <i class="fas fa-arrow-up trend-up"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stat-card" data-widget="monthly-salary">
                            <div class="stat-icon">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <div class="stat-info">
                                <h3 class="stat-value" id="monthlySalary">0</h3>
                                <p class="stat-label">Tổng lương tháng</p>
                            </div>
                            <div class="stat-trend">
                                <span class="trend-value" id="activeProjects">0</span>
                                <i class="fas fa-arrow-up trend-up"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <section class="charts-section">
                    <div class="row g-3">
                        <div class="col-12 col-lg-8">
                            <div class="data-section main-chart h-100">
                                <div class="section-header">
                                    <h3 class="section-title">
                                        Xu hướng chấm công
                                    </h3>
                                    <div class="chart-controls">
                                        <select
                                            class="form-select"
                                            id="attendancePeriod"
                                        >
                                            <option value="week">Tuần</option>
                                            <option value="month">Tháng</option>
                                            <option value="quarter">Quý</option>
                                        </select>
                                        <button
                                            class="btn btn-primary"
                                            onclick="window.attendanceTrend.refreshData()"
                                        >
                                            <i class="fas fa-sync-alt"></i> Cập nhật
                                        </button>
                                        <button
                                            class="btn"
                                            onclick="ExportUtils.exportChart('attendanceChart')"
                                        >
                                            <i class="fas fa-download"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="chart-container">
                                    <canvas id="attendanceTrendChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-lg-4">
                            <div class="data-section h-100">
                                <div class="section-header">
                                    <h3 class="section-title">
                                        Phân bố nhân viên theo phòng ban
                                    </h3>
                                    <div class="chart-controls">
                                        <button
                                            class="btn"
                                            onclick="ExportUtils.exportChart('departmentChart')"
                                        >
                                            <i class="fas fa-download"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="chart-container">
                                    <canvas id="departmentChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Recent Activities and Notifications -->
                <div class="row activities-section">
                    <div class="col-md-6">
                        <div class="activity-card">
                            <div class="card-header">
                                <h3>Hoạt động gần đây</h3>
                                <button class="btn btn-sm btn-primary" id="refreshActivities">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                            <div class="activity-list" id="activityList">
                                <!-- Activities will be loaded here -->
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="notification-card">
                            <div class="card-header">
                                <h3>Thông báo</h3>
                                <button class="btn btn-sm btn-primary" id="refreshNotifications">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                            <div class="notification-list" id="notificationList">
                                <!-- Notifications will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Add quick actions panel -->
                <div class="quick-actions-panel">
                    <h3>Quick Actions</h3>
                    <div class="quick-actions-grid">
                        <button class="quick-action-btn" onclick="window.location.href='employees/add.html'">
                            <i class="fas fa-user-plus"></i>
                            <span>Thêm nhân viên</span>
                        </button>
                        <button class="quick-action-btn" onclick="window.location.href='attendance/check.html'">
                            <i class="fas fa-clock"></i>
                            <span>Chấm công</span>
                        </button>
                        <button class="quick-action-btn" onclick="window.location.href='leave/register.html'">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Đăng ký nghỉ phép</span>
                        </button>
                        <button class="quick-action-btn" onclick="window.location.href='salary/calculate.html'">
                            <i class="fas fa-calculator"></i>
                            <span>Tính lương</span>
                        </button>
                    </div>
                </div>

                <!-- Add calendar widget -->
                <div class="calendar-widget">
                    <div class="calendar-header">
                        <h3>Lịch làm việc</h3>
                        <div class="calendar-controls">
                            <button class="btn btn-sm" onclick="prevMonth()"><i class="fas fa-chevron-left"></i></button>
                            <span id="currentMonth">Tháng 1, 2024</span>
                            <button class="btn btn-sm" onclick="nextMonth()"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="calendar-body" id="calendarBody">
                        <!-- Calendar will be loaded dynamically -->
                    </div>
                </div>

                <!-- Add task list widget -->
                <div class="task-list-widget">
                    <div class="task-list-header">
                        <h3>Công việc</h3>
                        <button class="btn btn-sm btn-primary" onclick="addTask()">Thêm công việc</button>
                    </div>
                    <div class="task-list" id="taskList">
                        <!-- Tasks will be loaded dynamically -->
                    </div>
                </div>

                <!-- Add weather widget -->
                <div class="weather-widget">
                    <div class="weather-header">
                        <h3>Thời tiết</h3>
                        <div class="weather-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span id="weatherLocation">Hà Nội</span>
                        </div>
                    </div>
                    <div class="weather-content" id="weatherContent">
                        <!-- Weather data will be loaded dynamically -->
                    </div>
                </div>

                <!-- Add chat widget -->
                <div class="chat-widget">
                    <div class="chat-header">
                        <h3>Team Chat</h3>
                        <button class="btn btn-sm btn-primary" onclick="newChat()">Cuộc trò chuyện mới</button>
                    </div>
                    <div class="chat-list" id="chatList">
                        <!-- Chat list will be loaded dynamically -->
                    </div>
                </div>

                <!-- Add backup widget -->
                <div class="backup-widget">
                    <div class="backup-header">
                        <h3>Sao lưu dữ liệu</h3>
                        <button class="btn btn-sm btn-primary" onclick="backupData()">Sao lưu ngay</button>
                    </div>
                    <div class="backup-info">
                        <p>Lần sao lưu cuối: <span id="lastBackup">Chưa có</span></p>
                        <p>Kích thước: <span id="backupSize">0 MB</span></p>
                    </div>
                </div>

                <section class="data-tabs">
                    <div class="tab-content" id="recentTabsContent">
                        <div
                            class="tab-pane fade show active"
                            id="employees"
                            role="tabpanel"
                        >
                            <div style="margin-top: 30px;" class="data-section">
                                <div class="section-header">
                                    <h3 class="section-title">Nhân viên mới</h3>
                                    <div class="action-buttons">
                                        <button
                                            class="btn btn-primary"
                                            onclick="window.location.href='./employees/list.html'"
                                        >
                                            Xem tất cả
                                        </button>
                                    </div>
                                </div>
                                <div class="table-responsive">
                                    <table class="admin-table">
                                        <thead>
                                            <tr>
                                                <th>Mã NV</th>
                                                <th>Họ tên</th>
                                                <th>Chức vụ</th>
                                                <th>Phòng ban</th>
                                                <th>Ngày vào làm</th>
                                                <th>Ngày sinh</th>
                                                <th>SĐT</th>
                                                <th>Email</th>
                                                <th>Địa chỉ</th>
                                                <th>Trạng thái</th>
                                                <th>Thao tác</th>
                                            </tr>
                                        </thead>
                                        <tbody id="recentEmployees">
                                            <!-- Data will be loaded dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div
                            class="tab-pane fade"
                            id="activities"
                            role="tabpanel"
                        >
                            <div class="data-section">
                                <div class="section-header">
                                    <h3 class="section-title">
                                        Hoạt động gần đây
                                    </h3>
                                    <div class="activity-filter">
                                        <select
                                            id="activityType"
                                            class="form-select"
                                        >
                                            <option value="all">
                                                Tất cả hoạt động
                                            </option>
                                            <option value="login">
                                                Đăng nhập
                                            </option>
                                            <option value="edit">
                                                Chỉnh sửa
                                            </option>
                                            <option value="view">
                                                Xem thông tin
                                            </option>
                                            <option value="delete">Xóa</option>
                                        </select>
                                        <input
                                            type="date"
                                            id="activityDate"
                                            class="form-control"
                                        />
                                        <input
                                            type="text"
                                            class="form-control"
                                            placeholder="Tìm kiếm người dùng..."
                                        />
                                    </div>
                                </div>
                                <div id="recentActivities">
                                    <!-- Data will be loaded dynamically -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- AI & Analytics Section -->
                <section class="ai-analytics-section">
                    <div class="row">
                        <div class="col-lg-6 mb-4">
                            <div class="data-section">
                                <div class="section-header">
                                    <h3 class="section-title">Dự đoán xu hướng nhân sự</h3>
                                    <button class="btn btn-primary" id="updateAnalysis">
                                        <i class="fas fa-sync-alt"></i> Cập nhật
                                    </button>
                                </div>
                                <div class="ai-prediction-card">
                                    <div class="prediction-chart">
                                        <canvas id="hrTrendsChart" height="300"></canvas>
                                    </div>
                                    <div class="prediction-insights">
                                        <h4>Phân tích</h4>
                                        <ul id="hrTrendsInsights" class="insights-list"></ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 mb-4">
                            <div class="data-section">
                                <div class="section-header">
                                    <h3 class="section-title">Phân tích tâm lý nhân viên</h3>
                                </div>
                                <div class="sentiment-analysis-card">
                                    <div class="sentiment-chart">
                                        <canvas id="sentimentChart" height="300"></canvas>
                                    </div>
                                    <div class="sentiment-insights">
                                        <h4>Đề xuất</h4>
                                        <ul id="sentimentInsights" class="insights-list"></ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Thêm section mới cho Gamification -->
                <section class="gamification-section">
                    <div class="row">
                        <div class="col-lg-8 mb-4">
                            <div class="data-section">
                                <div class="section-header">
                                    <h3 class="section-title">Bảng xếp hạng</h3>
                                </div>
                                <div class="leaderboard">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Hạng</th>
                                                <th>Nhân viên</th>
                                                <th>Điểm</th>
                                                <th>Thành tích</th>
                                            </tr>
                                        </thead>
                                        <tbody id="leaderboardTable">
                                            <!-- Data will be dynamically loaded -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 mb-4">
                            <div class="data-section">
                                <div class="section-header">
                                    <h3 class="section-title">
                                        Thành tích gần đây
                                    </h3>
                                </div>
                                <div id="recentAchievements">
                                    <!-- Data will be dynamically loaded -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Thêm section mới cho Mobile App -->
                <section class="mobile-app-section">
                    <div class="row">
                        <div class="col-12">
                            <div class="data-section">
                                <div class="section-header">
                                    <h3 class="section-title">
                                        Ứng dụng di động
                                    </h3>
                                </div>
                                <div class="mobile-app-stats">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="stat-card">
                                                <i
                                                    class="fas fa-mobile-alt"
                                                ></i>
                                                <h4>Lượt tải</h4>
                                                <p id="mobileDownloads">0</p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="stat-card">
                                                <i
                                                    class="fas fa-user-check"
                                                ></i>
                                                <h4>Người dùng hoạt động</h4>
                                                <p id="activeUsers">0</p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="stat-card">
                                                <i class="fas fa-bell"></i>
                                                <h4>Thông báo đã gửi</h4>
                                                <p id="notificationsSent">0</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Permission Management Section -->
                <section class="permission-management">
                    <div class="section-header">
                        <h3 class="section-title">Quản lý quyền</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="addNewPermission()">
                                <i class="fas fa-plus"></i> Thêm quyền
                            </button>
                        </div>
                    </div>
                    
                    <div class="permission-grid">
                        <div class="permission-card">
                            <div class="permission-card-header">
                                <h4>Quản trị viên</h4>
                                <span class="badge bg-primary">Cao nhất</span>
                            </div>
                            <ul class="permission-list">
                                <li class="permission-item">
                                    <span>Quản lý người dùng</span>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" checked>
                                    </div>
                                </li>
                                <li class="permission-item">
                                    <span>Quản lý quyền</span>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" checked>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- API Management Section -->
                <section class="api-management">
                    <div class="section-header">
                        <h3 class="section-title">Quản lý API</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="addNewAPI()">
                                <i class="fas fa-plus"></i> Thêm API
                            </button>
                        </div>
                    </div>
                    
                    <div class="api-endpoints">
                        <div class="api-endpoint">
                            <div class="api-endpoint-header">
                                <h4>/api/users</h4>
                                <span class="api-method get">GET</span>
                            </div>
                            <div class="api-details">
                                <p>Lấy danh sách người dùng</p>
                                <div class="api-actions">
                                    <button class="btn btn-sm btn-info">Chi tiết</button>
                                    <button class="btn btn-sm btn-warning">Sửa</button>
                                    <button class="btn btn-sm btn-danger">Xóa</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Testing & Monitoring Section -->
                <section class="testing-monitoring">
                    <div class="section-header">
                        <h3 class="section-title">Kiểm tra và Giám sát</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="runAllTests()">
                                <i class="fas fa-play"></i> Chạy kiểm tra
                            </button>
                        </div>
                    </div>
                    
                    <div class="test-grid">
                        <div class="test-card">
                            <h4>Kiểm tra API</h4>
                            <div class="test-status passed">Đã hoàn thành</div>
                            <div class="test-details">
                                <p>Thời gian: 2.5s</p>
                                <p>API đã kiểm tra: 15</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- User Management Section -->
                <section class="user-management">
                    <div class="section-header">
                        <h3 class="section-title">Quản lý người dùng</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="addNewUser()">
                                <i class="fas fa-user-plus"></i> Thêm người dùng
                            </button>
                        </div>
                    </div>
                    
                    <div class="user-filters">
                        <input type="text" class="form-control" placeholder="Tìm kiếm người dùng...">
                        <select class="form-select">
                            <option value="all">Tất cả vai trò</option>
                            <option value="admin">Quản trị viên</option>
                            <option value="user">Người dùng</option>
                        </select>
                    </div>
                    
                    <div class="user-grid">
                        <div class="user-card">
                            <img src="images/avatar.php" alt="User Avatar" class="rounded-circle" width="40" height="40">
                            <h4>John Doe</h4>
                            <p>john.doe@example.com</p>
                            <div class="user-actions">
                                <button class="btn btn-sm btn-info">Chi tiết</button>
                                <button class="btn btn-sm btn-warning">Sửa</button>
                                <button class="btn btn-sm btn-danger">Xóa</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Data Management Section -->
                <section class="data-management">
                    <div class="section-header">
                        <h3 class="section-title">Quản lý dữ liệu</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="backupData()">
                                <i class="fas fa-download"></i> Sao lưu
                            </button>
                        </div>
                    </div>
                    
                    <div class="data-stats">
                        <div class="data-stat-card">
                            <h4>Tổng dữ liệu</h4>
                            <p class="stat-value">1.2 GB</p>
                        </div>
                        <div class="data-stat-card">
                            <h4>Số bản ghi</h4>
                            <p class="stat-value">10,000</p>
                        </div>
                    </div>
                    
                    <div class="data-tools">
                        <button class="btn btn-warning">Xóa dữ liệu cũ</button>
                        <button class="btn btn-info">Tối ưu hóa</button>
                    </div>
                </section>

                <!-- System Configuration Section -->
                <section class="system-config">
                    <div class="section-header">
                        <h3 class="section-title">Cấu hình hệ thống</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="saveConfig()">
                                <i class="fas fa-save"></i> Lưu cấu hình
                            </button>
                        </div>
                    </div>
                    
                    <div class="config-grid">
                        <div class="config-card">
                            <h4>Cấu hình chung</h4>
                            <div class="config-item">
                                <span>Tên hệ thống</span>
                                <input type="text" class="form-control" value="HR System">
                            </div>
                            <div class="config-item">
                                <span>Ngôn ngữ</span>
                                <select class="form-select">
                                    <option value="vi">Tiếng Việt</option>
                                    <option value="en">English</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Security Management Section -->
                <section class="security-management">
                    <div class="section-header">
                        <h3 class="section-title">Bảo mật hệ thống</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="updateSecurity()">
                                <i class="fas fa-shield-alt"></i> Cập nhật
                            </button>
                        </div>
                    </div>
                    
                    <div class="security-grid">
                        <div class="security-card">
                            <h4>Xác thực</h4>
                            <div class="security-status safe">An toàn</div>
                            <ul class="security-list">
                                <li>Mật khẩu mạnh</li>
                                <li>2FA đã bật</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Integration Management Section -->
                <section class="integration-management">
                    <div class="section-header">
                        <h3 class="section-title">Quản lý tích hợp</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="addIntegration()">
                                <i class="fas fa-plus"></i> Thêm tích hợp
                            </button>
                        </div>
                    </div>
                    
                    <div class="integration-grid">
                        <div class="integration-card">
                            <h4>Google Calendar</h4>
                            <div class="integration-status active">Đang hoạt động</div>
                            <div class="integration-details">
                                <p>Đồng bộ lịch làm việc</p>
                                <button class="btn btn-sm btn-info">Cấu hình</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Analytics & Reporting Section -->
                <section class="analytics-reporting">
                    <div class="section-header">
                        <h3 class="section-title">Phân tích và Báo cáo</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="generateReport()">
                                <i class="fas fa-file-export"></i> Xuất báo cáo
                            </button>
                        </div>
                    </div>
                    
                    <div class="report-filters">
                        <input type="date" class="form-control">
                        <select class="form-select">
                            <option value="daily">Hàng ngày</option>
                            <option value="weekly">Hàng tuần</option>
                            <option value="monthly">Hàng tháng</option>
                        </select>
                    </div>
                    
                    <div class="report-grid">
                        <div class="report-card">
                            <h4>Báo cáo hiệu suất</h4>
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>
                </section>

                <!-- System Maintenance Section -->
                <section class="system-maintenance">
                    <div class="section-header">
                        <h3 class="section-title">Bảo trì hệ thống</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="startMaintenance()">
                                <i class="fas fa-tools"></i> Bắt đầu bảo trì
                            </button>
                        </div>
                    </div>
                    
                    <div class="maintenance-grid">
                        <div class="maintenance-card">
                            <h4>Bảo trì cơ sở dữ liệu</h4>
                            <div class="maintenance-status scheduled">Đã lên lịch</div>
                            <div class="maintenance-details">
                                <p>Thời gian: 02:00 - 03:00</p>
                                <p>Tần suất: Hàng tuần</p>
                            </div>
                        </div>
                    </div>
                </section>

                <footer class="footer">
                    <p>&copy; 2023 VNPT. All rights reserved.</p>
                </footer>
            </main>
        </div>

        <script>
            // Add functionality for new components
            // Notification center functionality
            function toggleNotificationCenter() {
                document.querySelector('.notification-center').classList.toggle('active');
            }

            function markAllAsRead() {
                // Implementation for marking all notifications as read
            }

            // Calendar functionality
            function prevMonth() {
                // Implementation for previous month
            }

            function nextMonth() {
                // Implementation for next month
            }

            // Add event listeners
            document.addEventListener('DOMContentLoaded', function() {
                // Initialize notification center
                const notificationBtn = document.querySelector('.notification-btn');
                if (notificationBtn) {
                    notificationBtn.addEventListener('click', toggleNotificationCenter);
                }

                // Initialize calendar
                updateCalendar();
            });

            function updateCalendar() {
                // Implementation for updating calendar
            }

            // Task list functionality
            function addTask() {
                // Implementation for adding new task
            }

            function loadTasks() {
                // Implementation for loading tasks
            }

            // Weather widget functionality
            function updateWeather() {
                // Implementation for updating weather data
            }

            // Chat functionality
            function newChat() {
                // Implementation for starting new chat
            }

            function loadChats() {
                // Implementation for loading chats
            }

            // Backup functionality
            function backupData() {
                // Implementation for data backup
            }

            function loadBackupInfo() {
                // Implementation for loading backup information
            }

            // Add event listeners
            document.addEventListener('DOMContentLoaded', function() {
                // Initialize task list
                loadTasks();

                // Initialize weather widget
                updateWeather();

                // Initialize chat
                loadChats();

                // Initialize backup info
                loadBackupInfo();
            });
        </script>
                <script src="js/modules/global-search.js"></script>
                <script src="js/modules/menu-search.js"></script>
                <script src="js/modules/recent-menu.js"></script>
                <script src="js/modules/user-profile.js"></script>
                <script src="js/modules/export-data.js"></script>
                <script src="js/modules/ai-analysis.js"></script>
                <script src="js/modules/gamification.js"></script>
                <script src="js/modules/mobile-stats.js"></script>
                <script src="js/modules/activity-filter.js"></script>
                <script src="js/modules/notification-handler.js"></script>
                <script src="js/modules/loading-overlay.js"></script>
                <script src="js/modules/dark-mode.js"></script>
                <script src="js/modules/attendance-trend.js"></script>
                <script src="js/modules/dashboard-data.js"></script>
                <script src="js/modules/department-chart.js"></script>
                <script>
                    // Initialize department chart
                    document.addEventListener('DOMContentLoaded', function() {
                        window.departmentChart = new DepartmentChart();
                    });
                </script>
    </body>

</html>

<style>
/* AI Analytics Section Styles */
.ai-analytics-section {
    margin-top: 30px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 8px;
}

.ai-prediction-card, .sentiment-analysis-card {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    padding: 20px;
    margin-bottom: 20px;
}

.prediction-chart, .sentiment-chart {
    margin-bottom: 20px;
    position: relative;
    height: 300px;
}

.prediction-insights, .sentiment-insights {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
}

.insights-list {
    list-style-type: none;
    padding-left: 0;
    margin: 0;
}

.insights-list li {
    padding: 8px 0;
    border-bottom: 1px solid #eee;
    color: #333;
    transition: all 0.3s ease;
}

.insights-list li.important {
    font-weight: 600;
    color: #2c3e50;
}

.insights-list li.additional {
    display: none;
    opacity: 0;
    transform: translateY(10px);
}

.insights-list.expanded li.additional {
    display: block;
    opacity: 1;
    transform: translateY(0);
}

.toggle-button {
    display: block;
    text-align: center;
    margin-top: 10px;
    padding: 5px 10px;
    background: #3498db;
    color: white;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.toggle-button:hover {
    background-color: #2980b9;
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.section-title {
    margin: 0;
    color: #333;
    font-size: 1.2rem;
    font-weight: 600;
}

.btn-primary {
    background-color: #3498db;
    border-color: #3498db;
}

.btn-primary:hover {
    background-color: #2980b9;
    border-color: #2980b9;
}

/* Attendance Trend Chart Styles */
.chart-container {
    position: relative;
    height: 300px;
    margin-top: 20px;
}

.chart-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

.chart-controls select {
    width: 120px;
}
</style>
